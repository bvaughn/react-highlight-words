{"version":3,"sources":["webpack:///webpack/bootstrap f19432594f8c73c46bb3","webpack:///./src/index.js","webpack:///./src/Highlighter.js","webpack:///external \"react\"","webpack:///./src/utils.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f19432594f8c73c46bb3\n **/","/** @flow */\nimport Highlighter from './Highlighter'\nimport { combineChunks, fillInChunks, findAll, findChunks } from './utils'\n\nexport default Highlighter\nexport { combineChunks, fillInChunks, findAll, findChunks }\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","/* @flow */\nimport React, { PropTypes } from 'react'\nimport * as Chunks from './utils.js'\n\nHighlighter.propTypes = {\n  highlightClassName: PropTypes.string,\n  highlightStyle: PropTypes.object,\n  searchWords: PropTypes.arrayOf(PropTypes.string).isRequired,\n  textToHighlight: PropTypes.string.isRequired,\n  sanitize: PropTypes.func\n}\n\n/**\n * Highlights all occurrences of search terms (searchText) within a string (textToHighlight).\n * This function returns an array of strings and <span>s (wrapping highlighted words).\n */\nexport default function Highlighter ({\n  highlightClassName = '',\n  highlightStyle = {},\n  searchWords,\n  textToHighlight,\n  sanitize\n}) {\n  const chunks = Chunks.findAll(textToHighlight, searchWords, sanitize)\n\n  return (\n    <span>\n      {chunks.map((chunk, index) => {\n        const text = textToHighlight.substr(chunk.start, chunk.end - chunk.start)\n\n        if (chunk.highlight) {\n          return (\n            <mark\n              className={highlightClassName}\n              key={index}\n              style={highlightStyle}\n            >\n              {text}\n            </mark>\n          )\n        } else {\n          return (\n            <span key={index}>{text}</span>\n          )\n        }\n      })}\n    </span>\n  )\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Highlighter.js\n **/","module.exports = require(\"react\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react\"\n ** module id = 3\n ** module chunks = 0\n **/","/**\n * Creates an array of chunk objects representing both higlightable and non highlightable pieces of text that match each search word.\n * @param searchWords string[]\n * @param textToSearch string\n * @return {start:number, end:number, highlight:boolean}[]\n */\nexport const findAll = (textToSearch, wordsToFind, sanitize) =>\n  fillInChunks(\n    combineChunks(\n      findChunks(textToSearch, wordsToFind, sanitize)\n    ),\n    textToSearch.length\n  )\n\n/**\n * Takes an array of {start:number, end:number} objects and combines chunks that overlap into single chunks.\n * @param chunks {start:number, end:number}[]\n * @return {start:number, end:number}[]\n */\nexport const combineChunks = (chunks) => {\n  chunks = chunks\n    .sort((first, second) => first.start - second.start)\n    .reduce((processedChunks, nextChunk) => {\n      // First chunk just goes straight in the array...\n      if (processedChunks.length === 0) {\n        return [nextChunk]\n      } else {\n        // ... subsequent chunks get checked to see if they overlap...\n        const prevChunk = processedChunks.pop()\n        if (nextChunk.start <= prevChunk.end) {\n          // It may be the case that prevChunk completely surrounds nextChunk, so take the\n          // largest of the end indeces.\n          const endIndex = Math.max(prevChunk.end, nextChunk.end)\n          processedChunks.push({start: prevChunk.start, end: endIndex})\n        } else {\n          processedChunks.push(prevChunk, nextChunk)\n        }\n        return processedChunks\n      }\n    }, [])\n\n  return chunks\n}\n\n/**\n * Examine textToSearch for any matches.\n * If we find matches, add them to the returned array as a \"chunk\" object ({start:number, end:number}).\n * @param textToSearch string\n * @param wordsToFind string[]\n * @param sanitize Process and optionally modify textToSearch and wordsToFind before comparison; this can be used to eg. remove accents\n * @return {start:number, end:number}[]\n */\nexport const findChunks = (textToSearch, wordsToFind, sanitize = identity) =>\n  wordsToFind\n    .filter(searchWord => searchWord) // Remove empty words\n    .reduce((chunks, searchWord) => {\n      const normalizedWord = sanitize(searchWord)\n      const normalizedText = sanitize(textToSearch)\n      const regex = new RegExp(escapeRegExp(normalizedWord), 'gi')\n      let match\n      while ((match = regex.exec(normalizedText)) != null) {\n        chunks.push({start: match.index, end: regex.lastIndex})\n      }\n      return chunks\n    }, [])\n\n/**\n * Given a set of chunks to highlight, create an additional set of chunks\n * to represent the bits of text between the highlighted text.\n * @param chunksToHighlight {start:number, end:number}[]\n * @param totalLength number\n * @return {start:number, end:number, highlight:boolean}[]\n */\nexport const fillInChunks = (chunksToHighlight, totalLength) => {\n  const allChunks = []\n  const append = (start, end, highlight) => {\n    if (end - start > 0) {\n      allChunks.push({start: start, end: end, highlight: highlight})\n    }\n  }\n\n  if (chunksToHighlight.length === 0) {\n    append(0, totalLength, false)\n  } else {\n    let lastIndex = 0\n    chunksToHighlight.forEach((chunk) => {\n      append(lastIndex, chunk.start, false)\n      append(chunk.start, chunk.end, true)\n      lastIndex = chunk.end\n    })\n    append(lastIndex, totalLength, false)\n  }\n  return allChunks\n}\n\nfunction identity (value) {\n  return value\n}\n\nfunction escapeRegExp (str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&')\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/"],"sourceRoot":""}